{"name":"少壮不努力，长大做 I T","body":"今天无聊尝试了下squid  3.0\r\n感觉配置比2.6 简单的不少。\r\n源码包 squid-3.0.STABLE5.tar.gz\r\n \r\n#解压：\r\ntar xzvf squid-3.0.STABLE5.tar.gz\r\n#进入安装目录\r\ncd squid-3.0.STABLE5\r\n#编译\r\n./configure –prefix=/usr/local/squid\r\nmake all\r\nmake install\r\n \r\n \r\n#编辑配置文件 /usr/local/squid/etc/squid.conf\r\nvisible_hostname squid1.fuck.com\r\nhttp_port 80 accel vhost vport\r\ncache_mem 512 MB\r\nmaximum_object_size_in_memory 2048 KB\r\nmemory_replacement_policy lru\r\ncache_dir ufs /tmp 512 16 256\r\nlogformat combined %>a %ui %un [%tl] “%rm %ru HTTP/%rv” %Hs %<st “%{Referer}>h” “%{User-Agent}>h” %Ss:%Sh\r\naccess_log /usr/local/squid/var/logs/page_zs_access_log combined\r\npid_filename /usr/local/squid/var/logs/squid.pid\r\ncache_store_log none\r\ndns_testnames localhost\r\nhttp_access allow all\r\ncache_log /var/log/squid/cache.log\r\nacl QueryString url_regex \\.php?\r\nno_cache deny QueryString\r\nmaximum_object_size 320010 KB\r\nmaximum_object_size_in_memory 100 KB\r\n \r\n \r\ncache_peer www.fuck.com parent 80 0 no-query originserver\r\ncache_peer_domain fuck www.fuck.com\r\n \r\n#创缓存目录\r\ncd /usr/local/squid/sbin\r\n./squid –z\r\n \r\n#启动\r\n./squid –Nd1","tagline":"菜鸟运维的技术博客","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}